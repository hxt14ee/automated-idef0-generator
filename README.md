# automated-idef0-generator
Автоматизация создания IDEF0 диаграмм с декомпозицией с помощью n8n.

# AI Business Process Modeler (IDEF0) on n8n

Автоматизированная система для бизнес-аналитиков. Генерирует диаграммы IDEF0 (контекст + декомпозиция) на основе текстового описания процесса, используя LLM и алгоритмический рендеринг.

##  Что делает проект
Пользователь пишет в Telegram описание процесса (например, "Согласование договора"). Бот:
1. Анализирует процесс с помощью LLM.
2. Структурирует данные (входы, выходы, управление, механизмы).
3. **Генерирует XML-файл формата Draw.io (.drawio)** с правильной топологией и связями.
4. Отдает готовые изображения (PNG) и исходник для редактирования.

##  Технический стек
* **Orchestrator:** n8n 
* **Logic:** JavaScript 
* **LLM Provider:** OpenRouter API
* **Rendering:** Draw.io XML format generation + Docker container `jgraph/drawio-export`

##  Ключевые фичи 
* **Алгоритмический рендеринг:** Написан кастомный JS-модуль, который рассчитывает координаты блоков `A1...An`, строит "лесенку" декомпозиции и маршрутизирует связи.
* **Error Correction:** Реализована логика "восстановления" потерянных связей (если LLM забыла указать выход в промежуточном блоке, алгоритм принудительно восстанавливает целостность схемы).
* **Multiple View Generation:** Генерация сразу двух уровней абстракции (Контекстная диаграмма A0 + Декомпозиция) в одном файле.
* **Smart Routing:** Алгоритм определяет типы стрелок (обратная связь, прямой поток) и рисует их по стандарту IDEF0 (сверху - управление, снизу - механизмы).

